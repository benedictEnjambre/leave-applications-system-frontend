<div *ngIf="loading" class="loading">Loading...</div>

<table class="leaves-table" *ngIf="!loading && leaves.length > 0">
  <thead>
  <tr>
    <th>Approver</th>
    <th>Start Date</th>
    <th>End Date</th>
    <th>Status</th>
    <th>Days</th>
    <th>Remarks</th>
    <th *ngIf="showCancel">Actions</th>
  </tr>
  </thead>

  <tbody>
    @for (leave of leaves; track leave.id) {
      <tr>
        <td>{{ leave.approverName}}</td>
        <td>{{ leave.startDate | date: 'MMMM d, y' }}</td>
        <td>{{ leave.endDate | date: 'MMMM d, y' }}</td>
        <td>{{ leave.status }}</td>
        <td>{{ leave.days }}</td>
        <td>{{ leave.remarks }}</td>
        <td *ngIf="showCancel">
          <button
            (click)="onCancel(leave.id)"
            [disabled]="leave.status !== 'PENDING' && leave.status !== 'APPROVED'"
            class="btn-cancel"
          >
            Cancel
          </button>
        </td>
      </tr>
    }
  </tbody>
</table>

<p *ngIf="!loading && leaves.length === 0" class="empty-state">
  No leave applications found.
</p>
